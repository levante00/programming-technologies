# Task CI/CD

## TL;DR

Есть имеющийся проект на Python. Необходимо настроить CI для этого проекта

## Предыстория

У нас есть работающий проект, теперь мы хотим пригласить людей в коллабораторы! Необходимо настроить автоматическую сборку проекта через CI.

Вашей целью является использовать готовый репозиторий, для которого настроить CI через Gitlab CI.

## Шаги

1. Клонируйте репозиторий: https://gitlab.akhcheck.ru/task-templates/testing-python.
2. Переключитесь на ветку task-testing-python.
3. Скопируйте папку task-ci к себе в проект в папку task-testing-python в ветку task-ci. Если у вас уже был проект, то создайте ветку task-ci.
4. Все дальнейшие действия можно делать в редакторе Gitlab CI! Только перед этим запускайте команды для сборки в своем проекте! Важно. Файл с Gitlab CI создаём в ветке task-ci. Важно: все runner-ы работают только с определённым тегом. Изучите внимательно, какой тег необходимо указывать для запуска тестов в проекте.
5. Создайте `stage install`, а в нём `job InstallRequirements`, в котором укажите, какие зависимости используются для сборки проекта.
6. Создайте `stage test`, а в нём `job TestCode`, в котором должны прогоняться тесты. После успешной работы этой job-ы в интерфейсе Giltab CI должно показаться количество пройденных тестов. Система будет проверять наличие пройденных интерфейсов в Gitlab CI.
7. Создайте `stage test`, а в нём `job LintCode`, в нем сделайте проверку кода на `flake8`.
8. Дождитесь галочки в CI, после этого можно отправлять задание в систему!
9. Не забывайте сделать merge request в ветку main и дождаться, пока CI пройдёт. Если CI не будет пройден, то задание отправится на доработку.